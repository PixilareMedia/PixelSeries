---
import Layout from '../../layouts/Layout.astro';
import Navigation from '../../components/Navigation.astro';
import Footer from '../../components/Footer.astro';
---

<Layout title="Web Map - Pixel Modded - Pixel Series">
    <Navigation/>
	<main class="container justify-content-center text-center space-bottom">
        <div class="row justify-content-center">
            <iframe id="map" class="info" src="https://pmmap.pixelseries.xyz/"></iframe>
        </div>
	</main>
    <Footer/>
</Layout>

<style>
    .container {
        position: absolute;
        left: 12em;
        top: 0em;
        right: 0em;
        bottom: 0em;
        color: white;
        font-size: large;
    }
    .justify-content-center {
        -webkit-box-pack: center!important;
        -ms-flex-pack: center!important;
        justify-content: center!important;
    }
    .text-center {
        text-align: center!important;
    }

    .row {
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        margin-right: 15px;
        margin-left: 15px;
        margin-top: 10px;
        margin-bottom: 10px;
    }
    .col {
        -ms-flex-preferred-size: 0;
        flex-basis: 0;
        -webkit-box-flex: 1;
        -ms-flex-positive: 1;
        flex-grow: 1;
        max-width: 100%;
    }

    .info {
        border: 3px;
        border-color: lightslategray;
        border-style: inset;
        border-radius: 25px;
        font-size: large;
        padding: 10px;
        margin: 5px;
        background-color: rgba(51, 51, 51, 0.5);
    }
    .space-bottom {
        padding-bottom: 3em;
    }
</style>

<script>
    //Get the height & width in px of the useable page.
    let contentBox = document.querySelector('.container');
    let contentHeight = contentBox.offsetHeight;
    let contentWidth = contentBox.offsetWidth;

    //Set the Map height & width in px to the useable height-104px.
    document.getElementById("map").style.height = contentHeight-104 + "px";
    document.getElementById("map").style.width = contentWidth + "px";

    //Listen for the window resize event.
    window.addEventListener('resize', function(event) {
        //Re-get the useable page height & width in px.
        var newContentHeight = contentBox.offsetHeight;
        var newContentWidth = contentBox.offsetWidth;

        //Re-set the Map height & width in px to the useable height-104px.
        document.getElementById("map").style.height = newContentHeight-104 + "px";
        document.getElementById("map").style.width = newContentWidth + "px";
    })
</script>
